{# Here be dragons. Don't ask me what this file does, I won't be able to explain it #}
<div ng-controller="CKFormController">
    <form class="form-horizontal" cg-busy="loadingPromise" ng-init="{% if fetchValues %}getValuesUrl='{{ getValuesUrl|raw }}{% endif %}';{% if setValues %}setValuesUrl='{{ setValuesUrl|raw }}{% endif %}';{% if hasRelationships %}relationships='{{ relationships|raw }}'{% endif %}">
        {% for item in formItems %}
            {{ item.render()|raw }}
        {% endfor %}
        {% if setValues %}
            <a class="btn btn-primary" ng-click="saveValues()">Save</a>
        {% endif %}
    </form>
    <div class="debug">
        <h4>Output:</h4>
        <pre>
            {% verbatim %}
{{ formItems | json }}
            {% endverbatim %}
        </pre>
        <h4>Input:</h4>
        <pre>
{{ formItems |json_encode(constant('JSON_PRETTY_PRINT')) }}
        </pre>
    </div>
</div>
